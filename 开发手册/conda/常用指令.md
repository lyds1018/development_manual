# 📘 Conda 常用指令

## 1. 环境管理

``` bash
# 创建新环境
conda create -n myenv python=3.10

# 激活环境
conda activate myenv

# 退出环境
conda deactivate

# 删除环境
conda remove -n myenv --all
```

------------------------------------------------------------------------

## 2. 查看信息

``` bash
# 查看所有环境
conda env list
conda info --envs

# 查看当前环境的包
conda list

# 查看 conda 版本
conda --version
```

------------------------------------------------------------------------

## 3. 包管理

``` bash
# 安装包
conda install numpy
# 默认安装到当前环境

# 指定环境安装包
conda install -n myenv numpy pandas

# 更新包
conda update numpy

# 更新所有包
conda update --all

# 卸载包
conda remove numpy
```

------------------------------------------------------------------------

## 4. 搜索包

``` bash
# 在 Anaconda 仓库搜索包
conda search numpy
```

------------------------------------------------------------------------

## 5. 环境导出与导入

``` bash
# 导出环境到 YAML 文件
conda env export -n myenv > environment.yml

# 根据 YAML 文件创建环境
conda env create --file environment.yml

# 更新环境
conda env update --file environment.yml --prune
# --prune: 删除 YAML 文件中未包含的包
```

------------------------------------------------------------------------

## 6. 清理缓存

``` bash
# 清理索引缓存, 包缓存, 压缩包
conda clean --all
# --tarballs/-t   : 删除缓存的包压缩文件
# --packages/-p   : 删除未使用的包
# --index-cache/-i: 删除索引缓存
```

------------------------------------------------------------------------

## 7. 配置源

``` bash
# 查看源配置
conda config --show channels

# 添加清华镜像源
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/

# 设置默认搜索时显示通道地址
conda config --set show_channel_urls yes
```
